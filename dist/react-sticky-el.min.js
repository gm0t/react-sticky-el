!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.ReactStickyEl=t(require("react"),require("react-dom")):e.ReactStickyEl=t(e.React,e.ReactDOM)}(window,(function(e,t){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t,o){e.exports=o(3)()},function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t,o){"use strict";var n=o(4);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,o,r,i,l){if(l!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return o.PropTypes=o,o}},function(e,t,o){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),i=o(0),l=o.n(i),s=o(2),c=o.n(s),a=[],u=[];function f(e,t,o){var n=a.indexOf(e);-1===n&&(n=a.length,a.push(e),u.push({el:e,totalCount:0}));var r=u[n],i=r[t];i||((i=r[t]={callbacks:[]}).cb=function(e){for(var t=0,o=i.callbacks.length;t<o;t+=1)i.callbacks[t](e)},r.totalCount+=1,r.el.addEventListener(t,i.cb)),-1===i.callbacks.indexOf(o)&&i.callbacks.push(o)}function p(e,t,o){var n=a.indexOf(e);if(-1!==n){var r=u[n],i=r[t],l=i?i.callbacks:[];i&&-1!==l.indexOf(o)&&(l.splice(l.indexOf(o),1),l.length>0||(r.el.removeEventListener(t,i.cb),r.totalCount-=1,delete r[t],r.totalCount>0||(a.splice(n,1),u.splice(n,1))))}}function d(e,t,o){for(var n=0,r=t.length;n<r;n+=1)f(e,t[n],o)}function h(e,t,o){for(var n=0,r=t.length;n<r;n+=1)p(e,t[n],o)}var m={};"undefined"!=typeof document&&(m.body=document.body,m.window=window,m.document=document);var b=function(){if("undefined"!=typeof document){var e=document.body;return"function"==typeof e.matches?"matches":"function"==typeof e.webkitMatchesSelector?"webkitMatchesSelector":"function"==typeof e.mozMatchesSelector?"mozMatchesSelector":"function"==typeof e.msMatchesSelector?"msMatchesSelector":"function"==typeof e.oMatchesSelector?"oMatchesSelector":null}}();function y(e,t){if(!e)return null;if(m.hasOwnProperty(e))return m[e];if("#"===e[0])return document.getElementById(e.slice(1));if(!b)return null;for(;t=t.parentElement;)if(t[b](e))return t;return null}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){x(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function w(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var S=["mode","disabled","onFixedToggle","stickyStyle","stickyClassName","boundaryElement","scrollElement","bottomOffset","topOffset","positionRecheckInterval","noExceptionOnMissedScrollElement","wrapperCmp","holderCmp","hideOnBoundaryHit","offsetTransforms","holderProps"],j=function(e,t){var o=t.bottomOffset,n=t.hideOnBoundaryHit,r=e.top,i=e.height,l=e.width,s=e.boundaryBottom;return n||r+i+o<s?{top:r,width:l,position:"fixed"}:{width:l,bottom:o,position:"absolute"}},T=function(e,t){var o=t.bottomOffset,n=t.hideOnBoundaryHit,r=e.bottom,i=e.height,l=e.width,s=e.boundaryTop;return n||r-i-o>s?{width:l,top:r-i,position:"fixed"}:{width:l,top:o,position:"absolute"}},C=function(e,t,o){return("top"===e?j:T)(o,t)},_=function(e){function t(e){var o,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,r=E(t).call(this,e),o=!r||"object"!==O(r)&&"function"!=typeof r?k(n):r,x(k(o),"createWrapperRef",(function(e){o.wrapperEl=e})),x(k(o),"createHolderRef",(function(e){o.holderEl=e})),x(k(o),"checkPosition",(function(){var e=k(o),t=e.holderEl,n=e.wrapperEl,r=e.boundaryElement,i=e.scrollElement,l=e.disabled,s=o.props,c=s.mode,a=s.onFixedToggle,u=s.offsetTransforms;if(l)o.state.fixed&&o.setState({fixed:!1});else{var f=t.getBoundingClientRect(),p=n.getBoundingClientRect(),d=r?R(r):{top:-1/0,bottom:1/0},h=R(i),m=o.isFixed(f,p,d,h),b=null;if(u&&m){var y=function(e){do{var t=window.getComputedStyle(e);if("none"!==t.transform||"none"!==t.webkitTransform)return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}(i);y&&(b=R(y))}var O={fixed:m,height:p.height,styles:m?C(c,o.props,{boundaryTop:"bottom"===c?d.top:0,boundaryBottom:"top"===c?d.bottom:0,top:"top"===c?h.top-(b?b.top:0):0,bottom:"bottom"===c?h.bottom-(b?b.bottom:0):0,width:f.width,height:p.height}):null};m!==o.state.fixed&&a&&"function"==typeof a&&a(o.state.fixed),function(e,t){var o=e.styles,n=t.styles;if(e.fixed!==t.fixed||e.height!==t.height||!o&&n||o&&!n)return!1;for(var r in o)if(o.hasOwnProperty(r)&&o[r]!==n[r])return!1;return!0}(o.state,O)||o.setState(O)}})),o.disabled=e.disabled,o.state={height:0,fixed:!1,styles:null},o}var o,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,e),o=t,(n=[{key:"componentDidMount",value:function(){var e=c.a.findDOMNode(this),t=this.props,o=t.boundaryElement,n=t.scrollElement,r=t.noExceptionOnMissedScrollElement,i=t.positionRecheckInterval,l=t.disabled;if(this.disabled=l,this.boundaryElement=y(o,e),this.boundaryElement!==window&&this.boundaryElement!==document||(this.boundaryElement=null),this.scrollElement=n,"string"==typeof n&&(this.scrollElement=y(n,e)),this.scrollElement)d(this.scrollElement,["scroll"],this.checkPosition);else if(!r)throw new Error("Cannot find scrollElement "+n);d(window,["scroll","resize","pageshow","load"],this.checkPosition),this.checkPosition(),i&&(this.checkPositionIntervalId=setInterval(this.checkPosition,i))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.disabled;this.disabled!==t&&(this.disabled=t,this.checkPosition())}},{key:"componentWillUnmount",value:function(){this.scrollElement&&h(this.scrollElement,["scroll"],this.checkPosition),h(window,["scroll","resize","pageshow","load"],this.checkPosition),this.boundaryElement=null,this.scrollElement=null,clearTimeout(this.checkPositionIntervalId)}},{key:"isFixed",value:function(e,t,o,n){var r=this.props,i=r.hideOnBoundaryHit,l=r.bottomOffset,s=r.topOffset,c=r.mode;if(this.disabled)return!1;if(o&&!function(e,t,o,n){var r=e.top+o,i=e.bottom+n;return r>=t.top&&r<=t.bottom||i>=t.top&&i<=t.bottom||i>=t.bottom&&r<=t.top}(o,n,s,l))return!1;var a=i?t.height+l:0;return"top"===c?e.top+s<n.top&&n.top+a<=o.bottom:e.bottom-s>n.bottom&&n.bottom-a>=o.top}},{key:"render",value:function(){var e=this.props,t=this.state,o=t.fixed,n=t.height,i=e.stickyClassName,l=e.stickyStyle,s=e.holderCmp,c=e.wrapperCmp,a=e.holderProps,u=e.children,f=function(e,t){e=v({},e);for(var o=0,n=t.length;o<n;o+=1)delete e[t[o]];return e}(e,S),p={transform:"translateZ(0)",WebkitTransform:"translateZ(0)"};return f.style&&(p=v({},p,{},f.style)),o&&(f.className+=" "+i,p=v({},p,{},l,{},this.state.styles)),a.style=v({},a.style,{minHeight:n+"px"}),a.ref=this.createHolderRef,f.style=p,f.ref=this.createWrapperRef,r.a.createElement(s,a,r.a.createElement(c,f,u))}}])&&w(o.prototype,n),i&&w(o,i),t}(n.Component);function R(e){return e&&"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():e===window||e===document?{top:0,left:0,bottom:window.innerHeight,height:window.innerHeight,width:window.innerWidth,right:window.innerWidth}:{top:0,left:0,right:0,bottom:0,width:0,height:0}}x(_,"propTypes",{mode:l.a.oneOf(["top","bottom"]),onFixedToggle:l.a.func,stickyStyle:l.a.object,stickyClassName:l.a.string,hideOnBoundaryHit:l.a.bool,offsetTransforms:l.a.bool,disabled:l.a.bool,boundaryElement:l.a.string,scrollElement:l.a.any,bottomOffset:l.a.number,topOffset:l.a.number,positionRecheckInterval:l.a.number,noExceptionOnMissedScrollElement:l.a.bool,wrapperCmp:l.a.oneOfType([l.a.string,l.a.func]),holderCmp:l.a.oneOfType([l.a.string,l.a.func]),holderProps:l.a.object}),x(_,"defaultProps",{className:"",style:{},mode:"top",holderCmp:"div",holderProps:{},wrapperCmp:"div",stickyClassName:"sticky",stickyStyle:null,hideOnBoundaryHit:!0,offsetTransforms:!1,disabled:!1,boundaryElement:null,scrollElement:"window",topOffset:0,bottomOffset:0,noExceptionOnMissedScrollElement:!1,positionRecheckInterval:0});t.default=_}])}));